@using MinhasColecoes.Shared.ErrorModels

@if (!string.IsNullOrEmpty(mensagem))
{
	<div class="text-danger mx-auto mb-3">
		<p>@mensagem</p>
		@foreach (var erro in erros.Errors)
		{
			@erro.Key
			<ul>
				@foreach (string msg in erro.Value)
				{
					 <li>@msg</li>
				}
			</ul>
		}
	</div>
}

@code {
	private string mensagem = string.Empty;
	private ValidationErrorModel erros;

	public void SetMessage(string mensagem)
	{
		this.mensagem = mensagem;
		this.erros = new ValidationErrorModel();
		StateHasChanged();
	}

	public void SetValidationErrors(ValidationErrorModel erros)
	{
		mensagem = erros.Title;
		this.erros = erros;
		StateHasChanged();
	}
}
